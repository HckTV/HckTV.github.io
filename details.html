<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HCKTV - Details</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;400&display=swap" rel="stylesheet">
    <style>
        body {
            background: #111;
            color: #fff;
            font-family: 'Montserrat', Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 700px;
            margin: 0 auto;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        .logo {
            font-size: 2.5rem;
            font-weight: 700;
            color: #e53935;
            letter-spacing: 2px;
            text-shadow: 0 2px 8px #000a;
            text-decoration: none;
            transition: transform 0.3s;
        }
        .logo:hover {
            transform: scale(1.08) rotate(-2deg);
            text-shadow: 0 4px 16px #e53935aa;
        }
        .search {
            font-size: 1.2rem;
            font-weight: 700;
            color: #fff;
            cursor: pointer;
            transition: color 0.3s;
        }
        .search:hover {
            color: #e53935;
        }
        #search-input {
            padding:8px 16px;
            border-radius:8px;
            border:none;
            background:#222;
            color:#fff;
            font-size:1.1rem;
            transition:box-shadow 0.3s;
            width:220px;
            outline:none;
            box-shadow:0 2px 8px #000a;
        }
        #search-btn {
            font-weight:700;
            color:#fff;
            background:#e53935;
            padding:8px 16px;
            border-radius:8px;
            border:none;
            cursor:pointer;
            transition:background 0.3s;
        }
        .poster {
            width: 260px;
            height: 380px;
            background: #444;
            border-radius: 16px;
            box-shadow: 0 4px 24px #000a;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 18px;
            overflow: hidden;
            animation: fadeInUp 0.7s cubic-bezier(.68,-0.55,.27,1.55);
        }
        .poster img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 16px;
        }
        .poster.no-poster {
            background: #333;
            color: #e53935;
            font-weight: 700;
            font-size: 1.2rem;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .meta {
            background: #222;
            color: #e53935;
            border-radius: 8px;
            padding: 8px 18px;
            font-size: 1.05rem;
            font-weight: 600;
            margin-bottom: 18px;
            box-shadow: 0 2px 12px #000a;
            animation: fadeInUp 0.8s cubic-bezier(.68,-0.55,.27,1.55);
        }
        .description {
            background: #222;
            color: #fff;
            border-radius: 12px;
            padding: 18px 24px;
            font-size: 1.1rem;
            margin-bottom: 32px;
            box-shadow: 0 2px 12px #000a;
            animation: fadeInUp 0.9s cubic-bezier(.68,-0.55,.27,1.55);
        }
        @keyframes fadeInUp {
            from { opacity:0; transform:translateY(40px); }
            to { opacity:1; transform:translateY(0); }
        }
        @media (max-width: 600px) {
            .container { padding: 16px 4px; }
            .poster { width: 160px; height: 220px; }
            .description { padding: 12px 8px; font-size: 1rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
        <a href="index.html" class="logo" style="padding:0;"><img src="HckTV Logo Files/hcktv-high-resolution-logo-transparent.png" alt="HCKTV Logo" style="height:56px;vertical-align:middle;display:block;"></a>
            <div style="display:flex;align-items:center;gap:12px;">
                <input id="search-input" type="text" placeholder="Search movies or series..." />
                <button id="search-btn">Search</button>
            </div>
        </div>
        <div class="poster no-poster" id="poster">No Poster Available</div>
        <div class="meta" id="meta">Date & Genre</div>
        <div class="description" id="description">Description goes here.</div>
        <div id="pin-section" style="width:100%;margin-top:18px;display:none;flex-direction:column;align-items:center;">
            <div style="color:#e53935;font-weight:700;font-size:1.1rem;margin-bottom:8px;">Enter PIN Code</div>
            <div style="display:flex;justify-content:center;gap:8px;">
                <input type="password" maxlength="4" id="pin-input" style="text-align:center;font-size:1.3rem;padding:8px 18px;border-radius:8px;border:none;background:#444;color:#e53935;letter-spacing:16px;width:120px;outline:none;box-shadow:0 2px 8px #000a;" placeholder="? ? ? ?" />
                <button id="pin-btn" style="margin-left:12px;padding:8px 18px;border-radius:8px;background:#e53935;color:#fff;border:none;font-weight:700;cursor:pointer;transition:background 0.3s;">Unlock</button>
            </div>
            <div id="pin-error" style="color:#e53935;font-size:1rem;margin-top:8px;display:none;">Incorrect PIN. Try again.</div>
        </div>
        <div id="player-section" style="width:100%;margin-top:32px;display:none;flex-direction:column;align-items:center;">
            <div id="movie-server-menu" style="width:100%;display:none;flex-direction:column;align-items:center;">
                <div style="display:flex;gap:16px;margin-bottom:18px;width:100%;justify-content:center;">
                    <button id="server1-btn" style="padding:8px 18px;border-radius:8px;background:#e53935;color:#fff;border:none;font-weight:700;cursor:pointer;transition:background 0.3s;">Server 1</button>
                    <button id="server2-btn" style="padding:8px 18px;border-radius:8px;background:#444;color:#e53935;border:none;font-weight:700;cursor:pointer;transition:background 0.3s;">Server 2</button>
                </div>
            </div>
            <iframe id="movie-player" src="" width="100%" height="320" frameborder="0" allowfullscreen style="border-radius:12px;background:#666;display:none;"></iframe>
            <div id="series-menu" style="width:100%;display:none;flex-direction:column;align-items:center;">
                <div style="display:flex;gap:16px;margin-bottom:18px;width:100%;justify-content:center;">
                    <select id="season-select" style="padding:8px 16px;border-radius:8px;background:#444;color:#e53935;font-weight:700;font-size:1.1rem;border:none;outline:none;">
                        <option value="">Select Season</option>
                    </select>
                    <select id="episode-select" style="padding:8px 16px;border-radius:8px;background:#444;color:#e53935;font-weight:700;font-size:1.1rem;border:none;outline:none;">
                        <option value="">Select Episode</option>
                    </select>
                    <button id="play-btn" style="padding:8px 18px;border-radius:8px;background:#e53935;color:#fff;border:none;font-weight:700;cursor:pointer;transition:background 0.3s;">Play</button>
                </div>
            </div>
            <iframe id="series-player" src="" width="100%" height="320" frameborder="0" allowfullscreen style="border-radius:12px;background:#666;display:none;"></iframe>
        </div>
    </div>
    <script>
    const params = new URLSearchParams(window.location.search);
    const type = params.get('type'); // 'movie' or 'series'
    const id = params.get('id');
    const TMDB_READ_TOKEN = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0NWY5MTMzYjFiY2YxZjg3ZWMzOTQyOWE1YjE1Y2M0ZCIsIm5iZiI6MTc1NTM2NTY4MC45MTkwMDAxLCJzdWIiOiI2OGEwYzEzMDgyMjkzYzdkMTU2MWJjMWIiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.eteipqCHHoykH432yP5Ah5STKY0WpcxvI1fyzXA78Dg';
    async function fetchDetails() {
        if (!id || !type) return;
        let url = '';
        if (type === 'movie') {
            url = `https://api.themoviedb.org/3/movie/${id}?language=en-US`;
        } else {
            url = `https://api.themoviedb.org/3/tv/${id}?language=en-US`;
        }
        const res = await fetch(url, { headers: { Authorization: `Bearer ${TMDB_READ_TOKEN}` }});
        if (!res.ok) {
            renderDetails({});
            return;
        }
        const data = await res.json();
        renderDetails(data);
    }
    let seriesSeasons = [];
    function renderDetails(data) {
        const posterDiv = document.getElementById('poster');
        if (data.poster_path) {
            posterDiv.classList.remove('no-poster');
            posterDiv.innerHTML = `<img src="https://image.tmdb.org/t/p/w500${data.poster_path}" alt="${data.title || data.name}">`;
        } else {
            posterDiv.classList.add('no-poster');
            posterDiv.innerHTML = 'No Poster Available';
        }
        const date = data.release_date || data.first_air_date || '';
        const genres = (data.genres || []).map(g => g.name).join(', ');
        document.getElementById('meta').textContent = `${date}${genres ? ' â€¢ ' + genres : ''}`;
        document.getElementById('description').textContent = data.overview || 'No description available.';
        if (type === 'movie') {
            document.getElementById('pin-section').style.display = 'flex';
        } else if (type === 'series') {
            document.getElementById('pin-section').style.display = 'flex';
            // Store seasons for later
            seriesSeasons = (data.seasons || []).filter(s => s.season_number > 0);
        } else {
            document.getElementById('pin-section').style.display = 'none';
        }
    }
    fetchDetails();
    // PIN logic for movies and series
    function unlockPlayer() {
        const pin = document.getElementById('pin-input').value;
        if (pin === '2012') {
            document.getElementById('pin-error').style.display = 'none';
            document.getElementById('pin-section').style.display = 'none';
            document.getElementById('player-section').style.display = 'flex';
            if (type === 'movie') {
                // Show server menu for movies
                document.getElementById('movie-server-menu').style.display = 'flex';
                document.getElementById('movie-player').style.display = 'none';
                document.getElementById('server1-btn').onclick = function() {
                    document.getElementById('movie-player').src = `https://autoembed.co/movie/tmdb/${id}`;
                    document.getElementById('movie-player').style.display = 'block';
                };
                document.getElementById('server2-btn').onclick = function() {
                    document.getElementById('movie-player').src = `https://www.2embed.cc/embed/${id}`;
                    document.getElementById('movie-player').style.display = 'block';
                };
            } else if (type === 'series') {
                setupSeriesMenu();
            }
        } else {
            document.getElementById('pin-error').style.display = 'block';
        }
    }
    document.getElementById('pin-btn').onclick = unlockPlayer;
    document.getElementById('pin-input').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') unlockPlayer();
    });
    // Series menu logic
    function setupSeriesMenu() {
        const menu = document.getElementById('series-menu');
        const seasonSelect = document.getElementById('season-select');
        const episodeSelect = document.getElementById('episode-select');
        const playBtn = document.getElementById('play-btn');
        const player = document.getElementById('series-player');
        // Populate seasons
        seasonSelect.innerHTML = '<option value="">Select Season</option>';
        seriesSeasons.forEach(s => {
            seasonSelect.innerHTML += `<option value='${s.season_number}'>Season ${s.season_number}</option>`;
        });
        episodeSelect.innerHTML = '<option value="">Select Episode</option>';
        seasonSelect.onchange = function() {
            const selectedSeason = seasonSelect.value;
            episodeSelect.innerHTML = '<option value="">Select Episode</option>';
            if (!selectedSeason) return;
            // Fetch episode count for selected season
            const seasonObj = seriesSeasons.find(s => s.season_number == selectedSeason);
            if (seasonObj && seasonObj.episode_count) {
                for (let i = 1; i <= seasonObj.episode_count; i++) {
                    episodeSelect.innerHTML += `<option value='${i}'>Episode ${i}</option>`;
                }
            }
        };
        playBtn.onclick = function() {
            const seasonNum = seasonSelect.value;
            const episodeNum = episodeSelect.value;
            if (!seasonNum || !episodeNum) return;
            player.style.display = 'block';
            player.src = `https://autoembed.co/tv/tmdb/${id}-${seasonNum}-${episodeNum}`;
        };
    document.getElementById('movie-server-menu').style.display = 'none';
    document.getElementById('movie-player').style.display = 'none';
    menu.style.display = 'flex';
    player.style.display = 'none';
            // Add Server 2 button and iframe for series
            if (!document.getElementById('server2-series-btn')) {
                const btnRow = document.createElement('div');
                btnRow.style.display = 'flex';
                btnRow.style.gap = '16px';
                btnRow.style.marginBottom = '18px';
                btnRow.style.width = '100%';
                btnRow.style.justifyContent = 'center';
                btnRow.innerHTML = `
                    <button id="server1-series-btn" style="padding:8px 18px;border-radius:8px;background:#e53935;color:#fff;border:none;font-weight:700;cursor:pointer;transition:background 0.3s;">Server 1</button>
                    <button id="server2-series-btn" style="padding:8px 18px;border-radius:8px;background:#444;color:#e53935;border:none;font-weight:700;cursor:pointer;transition:background 0.3s;">Server 2</button>
                `;
                menu.insertBefore(btnRow, menu.firstChild);
                // Add Server 2 iframe
                const server2Iframe = document.createElement('iframe');
                server2Iframe.id = 'series-server2-player';
                server2Iframe.width = '100%';
                server2Iframe.height = '320';
                server2Iframe.frameBorder = '0';
                server2Iframe.allowFullscreen = true;
                server2Iframe.style.borderRadius = '12px';
                server2Iframe.style.background = '#666';
                server2Iframe.style.display = 'none';
                menu.appendChild(server2Iframe);
            }
            // Button logic
            const server1Btn = document.getElementById('server1-series-btn');
            const server2Btn = document.getElementById('server2-series-btn');
            const server2Iframe = document.getElementById('series-server2-player');
            server1Btn.onclick = function() {
                player.style.display = 'block';
                server2Iframe.style.display = 'none';
                const seasonNum = seasonSelect.value;
                const episodeNum = episodeSelect.value;
                if (!seasonNum || !episodeNum) return;
                player.src = `https://autoembed.co/tv/tmdb/${id}-${seasonNum}-${episodeNum}`;
            };
            server2Btn.onclick = function() {
                player.style.display = 'none';
                server2Iframe.style.display = 'block';
                const seasonNum = seasonSelect.value;
                const episodeNum = episodeSelect.value;
                if (!seasonNum || !episodeNum) return;
                server2Iframe.src = `https://moviesapi.club/tv/${id}-${seasonNum}-${episodeNum}`;
            };
            document.getElementById('movie-server-menu').style.display = 'none';
            document.getElementById('movie-player').style.display = 'none';
            menu.style.display = 'flex';
            player.style.display = 'none';
            player.src = '';
            server2Iframe.style.display = 'none';
            server2Iframe.src = '';
    }
    document.getElementById('search-btn').onclick = () => {
        const query = document.getElementById('search-input').value;
        goToSearch(query);
    };
    document.getElementById('search-input').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            goToSearch(this.value);
        }
    });
    document.querySelector('.logo').onclick = function(e) {
        e.preventDefault();
        window.location.href = 'index.html';
    };
    </script>
<script>
// Redirect to google.com if DevTools/Inspect Element is opened
(function() {
    let devtoolsOpen = false;
    const threshold = 160;
    function detectDevTools() {
        const widthThreshold = window.outerWidth - window.innerWidth > threshold;
        const heightThreshold = window.outerHeight - window.innerHeight > threshold;
        if (widthThreshold || heightThreshold) {
            if (!devtoolsOpen) {
                devtoolsOpen = true;
                window.location.href = 'https://google.com';
            }
        } else {
            devtoolsOpen = false;
        }
    }
    setInterval(detectDevTools, 500);
    // Also listen for key shortcuts (F12, Ctrl+Shift+I)
    window.addEventListener('keydown', function(e) {
        if (
            e.key === 'F12' ||
            (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J'))
        ) {
            window.location.href = 'https://google.com';
        }
    });
})();
</script>
</body>
</html>
